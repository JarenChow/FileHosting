<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>J</title><style type="text/css">* {margin: 0;padding: 0;}html, body {width: 100%;height: 100%;}</style></head><body><script>"use strict";function Vector(){this.offsetX=Vector.DEFAULT_OFFSET_X,this.offsetY=Vector.DEFAULT_OFFSET_Y,this.angle=Vector.DEFAULT_ANGLE,this.cos=Vector.DEFAULT_COS,this.sin=Vector.DEFAULT_SIN,this.scaleX=Vector.DEFAULT_SCALE_X,this.scaleY=Vector.DEFAULT_SCALE_Y,this.skewX=Vector.DEFAULT_SKEW_X,this.tanX=Vector.DEFAULT_TAN_X,this.skewY=Vector.DEFAULT_SKEW_Y,this.tanY=Vector.DEFAULT_TAN_Y}function Style(){this.lineDash=Style.DEFAULT_LINE_DASH,this.lineDashOffset=Style.DEFAULT_LINE_DASH_OFFSET,this.fillStyle=Style.DEFAULT_FILL_STYLE,this.strokeStyle=Style.DEFAULT_STROKE_STYLE,this.shadowOffsetX=Style.DEFAULT_SHADOW_OFFSET_X,this.shadowOffsetY=Style.DEFAULT_SHADOW_OFFSET_Y,this.shadowBlur=Style.DEFAULT_SHADOW_BLUR,this.shadowColor=Style.DEFAULT_SHADOW_COLOR,this.lineWidth=Style.DEFAULT_LINE_WIDTH,this.lineCap=Style.DEFAULT_LINE_CAP,this.lineJoin=Style.DEFAULT_LINE_JOIN,this.miterLimit=Style.DEFAULT_MITER_LIMIT,this.font=Style.DEFAULT_FONT,this.textAlign=Style.DEFAULT_TEXT_ALIGN,this.textBaseline=Style.DEFAULT_TEXT_BASELINE}function Utils(){}function BasicShape(t,e,i,s,n){this.ctx=t,this.init(e,i,s,n),this.vec=new Vector}function Shape(t,e,i,s,n){BasicShape.call(this,t,e,i,s,n),this.sty=new Style}function Rect(t,e,i,s,n,o,r){Shape.call(this,t,e,i,o,r),this.sw=s,this.sh=n}function Arc(t,e,i,s,n,o,r,h,a){Shape.call(this,t,e,i,h,a),this.r=s,this.startAngle=n||0,this.endAngle=o||2*Math.PI,this.anticlockwise=r||!1}function Line(t,e,i,s,n,o,r){Shape.call(this,t,e,i,o,r),this.ex=s,this.ey=n}function Text(t,e,i,s,n,o){Shape.call(this,t,e,i,n,o),this.text=s}function Point(t,e){this.x=t,this.y=e}Vector.DEFAULT_OFFSET_X=0,Vector.DEFAULT_OFFSET_Y=0,Vector.DEFAULT_ANGLE=0,Vector.DEFAULT_COS=1,Vector.DEFAULT_SIN=0,Vector.DEFAULT_SCALE_X=1,Vector.DEFAULT_SCALE_Y=1,Vector.DEFAULT_SKEW_X=0,Vector.DEFAULT_TAN_X=0,Vector.DEFAULT_SKEW_Y=0,Vector.DEFAULT_TAN_Y=0,Vector.prototype.isChanged=function(){return this.angle!==Vector.DEFAULT_ANGLE||this.scaleX!==Vector.DEFAULT_SCALE_X||this.scaleY!==Vector.DEFAULT_SCALE_Y||this.skewX!==Vector.DEFAULT_SKEW_X||this.skewY!==Vector.DEFAULT_SKEW_Y},Vector.prototype.getM11=function(){return this.scaleX*this.cos+this.scaleY*-this.sin*this.tanY},Vector.prototype.getM12=function(){return this.scaleX*this.sin+this.scaleY*this.cos*this.tanY},Vector.prototype.getM21=function(){return this.scaleX*this.cos*this.tanX+this.scaleY*-this.sin},Vector.prototype.getM22=function(){return this.scaleX*this.sin*this.tanX+this.scaleY*this.cos},Vector.prototype.getDOMMatrix2DInit=function(){return{a:this.getM11(),b:this.getM12(),c:this.getM21(),d:this.getM22(),e:this.getOffsetX(),f:this.getOffsetY()}},Vector.prototype.setOffsetX=function(t){return this.offsetX=t,this},Vector.prototype.getOffsetX=function(){return this.offsetX},Vector.prototype.setOffsetY=function(t){return this.offsetY=t,this},Vector.prototype.getOffsetY=function(){return this.offsetY},Vector.prototype.setAngle=function(t){return this.angle!==t&&(this.angle=t,this.cos=Math.cos(t),this.sin=Math.sin(t)),this},Vector.prototype.getAngle=function(){return this.angle},Vector.prototype.setScaleX=function(t){return this.scaleX=t,this},Vector.prototype.getScaleX=function(){return this.scaleX},Vector.prototype.setScaleY=function(t){return this.scaleY=t,this},Vector.prototype.getScaleY=function(){return this.scaleY},Vector.prototype.setSkewX=function(t){return this.skewX!==t&&(this.skewX=t,this.tanX=Math.tan(t)),this},Style.DEFAULT_LINE_DASH=[],Style.DEFAULT_LINE_DASH_OFFSET=0,Style.DEFAULT_FILL_STYLE="#000000",Style.DEFAULT_STROKE_STYLE="#000000",Style.DEFAULT_SHADOW_OFFSET_X=0,Style.DEFAULT_SHADOW_OFFSET_Y=0,Style.DEFAULT_SHADOW_BLUR=0,Style.DEFAULT_SHADOW_COLOR="rgba(0, 0, 0, 0)",Style.DEFAULT_LINE_WIDTH=1,Style.DEFAULT_LINE_CAP="butt",Style.DEFAULT_LINE_JOIN="miter",Style.DEFAULT_MITER_LIMIT=10,Style.DEFAULT_FONT="10px sans-serif",Style.DEFAULT_TEXT_ALIGN="start",Style.DEFAULT_TEXT_BASELINE="alphabetic",Style.prototype.setLineDash=function(t){return this.lineDash=t,this},Style.prototype.getLineDash=function(){return this.lineDash},Style.prototype.setLineDashOffset=function(t){return this.lineDashOffset=t,this},Style.prototype.getLineDashOffset=function(){return this.lineDashOffset},Style.prototype.setFillStyle=function(t){return this.fillStyle=t,this},Style.prototype.getFillStyle=function(){return this.fillStyle},Style.prototype.setStrokeStyle=function(t){return this.strokeStyle=t,this},Style.prototype.getStrokeStyle=function(){return this.strokeStyle},Style.prototype.setShadowOffsetX=function(t){return this.shadowOffsetX=t,this},Style.prototype.getShadowOffsetX=function(){return this.shadowOffsetX},Style.prototype.setShadowOffsetY=function(t){return this.shadowOffsetY=t,this},Style.prototype.getShadowOffsetY=function(){return this.shadowOffsetY},Style.prototype.setShadowBlur=function(t){return this.shadowBlur=t,this},Style.prototype.getShadowBlur=function(){return this.shadowBlur},Style.prototype.setShadowColor=function(t){return this.shadowColor=t,this},Style.prototype.getShadowColor=function(){return this.shadowColor},Style.prototype.setLineWidth=function(t){return this.lineWidth=t,this},Style.prototype.getLineWidth=function(){return this.lineWidth},Style.prototype.setLineCap=function(t){return this.lineCap=t,this},Style.prototype.getLineCap=function(){return this.lineCap},Style.prototype.setLineJoin=function(t){return this.lineJoin=t,this},Style.prototype.getLineJoin=function(){return this.lineJoin},Style.prototype.setMiterLimit=function(t){return this.miterLimit=t,this},Style.prototype.getMiterLimit=function(){return this.miterLimit},Style.prototype.setFont=function(t){return this.font=t,this},Style.prototype.getFont=function(){return this.font},Style.prototype.setTextAlign=function(t){return this.textAlign=t,this},Style.prototype.getTextAlign=function(){return this.textAlign},Style.prototype.setTextBaseline=function(t){return this.textBaseline=t,this},Style.prototype.getTextBaseline=function(){return this.textBaseline},Vector.prototype.getSkewX=function(){return this.skewX},Vector.prototype.setSkewY=function(t){return this.skewY!==t&&(this.skewY=t,this.tanY=Math.tan(t)),this},Vector.prototype.getSkewY=function(){return this.skewY},Utils.canvas=document.createElement("canvas"),Utils.ctx=Utils.canvas.getContext("2d"),Utils.inheritPrototype=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Utils.getContext2d=function(t,e,i,s){var n=document.createElement("canvas");return n.style.display="block",n.style.position="absolute",n.style.left=t+"px",n.style.top=e+"px",n.width=i,n.height=s,document.body.appendChild(n),n.getContext("2d",{desynchronized:!1,alpha:!0})},Utils.measureTextWidth=function(t,e,i){return Utils.ctx.font=i?e+"px "+i:e,Math.ceil(Utils.ctx.measureText(t).width)},Utils.measureTextFontSize=function(o,r,h){return function t(e,i){{if(e===i)return e;if(e+1===i)return Utils.measureTextWidth(o,i,h)>r?e:i}var s=Math.floor((e+i)/2),n=Utils.measureTextWidth(o,s,h);return r<n?t(e,s-1):n<r?t(s,i):s}(10,500)},Utils.measureText=function(t,e,i){Utils.ctx.font=i?e+"px "+i:e;var s=Utils.ctx.measureText(t);return{width:s.width,height:s.actualBoundingBoxAscent+s.actualBoundingBoxDescent,offsetY:(s.actualBoundingBoxAscent-s.actualBoundingBoxDescent)/2}},Utils.loadImage=function(t,e){var i=new Image;i.src=t,i.onload=function(){createImageBitmap(this).then(function(t){e(t)})}},Utils.loadImages=function(e,i){var s=[];e.forEach(function(t){Utils.loadImage(t,function(t){s.push(t),s.length===e.length&&i(s)})})},Utils.createPattern=function(t,e){var i=Utils.ctx.createPattern(t.imageBitmap,e||"repeat");return i.setTransform(t.getVector().getDOMMatrix2DInit()),i},Utils.drawImage=function(t,e,i,s,n,o,r,h,a){Utils.resetArea(t),1===arguments.length?Utils.ctx.drawImage(t,0,0):3===arguments.length?Utils.ctx.drawImage(t,e,i):5===arguments.length?Utils.ctx.drawImage(t,e,i,s,n):9===arguments.length&&Utils.ctx.drawImage(t,e,i,s,n,o,r,h,a)},Utils.putImageData=function(t,e,i,s,n,o,r){Utils.resetArea(t),1===arguments.length?Utils.ctx.putImageData(t,0,0):3===arguments.length?Utils.ctx.putImageData(t,e,i):7===arguments.length&&Utils.ctx.putImageData(t,e,i,s,n,o,r)},Utils.saveCanvas=function(t){var e=document.createElement("a");e.href=Utils.canvas.toDataURL(),e.download=t||"canvas.png",e.click()},Utils.copyImageData=function(t){var e=Utils.ctx.createImageData(t);return e.data.set(t.data),e},Utils.image2ImageData=function(t){return Utils.resetArea(t),Utils.ctx.drawImage(t,0,0),Utils.ctx.getImageData(0,0,t.width,t.height)},Utils.shape2ImageShape=function(t,e,i,s,n,o){var r=o?0:10,h=s+r,a=n+r,c=t.ctx,l=t.sx,y=t.sy,p=t.cx,f=t.cy,u=new ImageShape(c,l+e-r/2,y+i-r/2,p,f);return Utils.canvas.width=h,Utils.canvas.height=a,Utils.ctx.clearRect(0,0,h,a),t.ctx=Utils.ctx,t.init(r/2-e,r/2-i),t.fill().stroke(),t.ctx=c,t.init(l,y,p,f),createImageBitmap(Utils.ctx.getImageData(0,0,h,a)).then(function(t){u.setImageBitmap(t).initParams()}),u.fill=u.stroke=u.preDraw,u},Utils.resetArea=function(t){Utils.canvas.width=t.width,Utils.canvas.height=t.height,Utils.ctx.clearRect(0,0,t.width,t.height)},Utils.rgb=function(t,e,i){return"rgb("+t+", "+e+", "+i+")"},Utils.rgba=function(t,e,i,s){return"rgba("+t+", "+e+", "+i+", "+s.toFixed(2)+")"},Utils.getRGB=function(t){var e=t.match(/rgba?\((\d{1,3}), ?(\d{1,3}), ?(\d{1,3})\)?(?:, ?(\d(?:\.\d?))\))?/);return e?{red:e[1],green:e[2],blue:e[3]}:{}},Utils.getRandInt=function(t,e,i){return e?i?Math.floor(Math.random()*(e-t+1))+t:Math.floor(Math.random()*(e-t))+t:Math.floor(Math.random()*t)},Utils.factorial=function(t){switch(t){case 0:case 1:return 1;case 2:return 2;case 3:return 6;case 4:return 24;case 5:return 120;case 6:return 720;case 7:return 5040;case 8:return 40320;case 9:return 362880;case 10:return 3628800}return t*Utils.factorial(t-1)},Utils.combination=function(t,e){return Utils.factorial(e)/(Utils.factorial(t)*Utils.factorial(e-t))},Utils.pythagorean=function(t,e){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))},Utils.deg2rad=function(t){return.017453292519943295*t},Utils.speedTest=function(t,e,i){i+=" execution "+e+" times",console.time(i);for(var s=0;s<e;s++)t();console.timeEnd(i)},Utils.getScrollBarWidth=function(){document.body.style.overflow="hidden";var t=document.body.clientWidth;return document.body.style.overflow="scroll",t=(t-=document.body.clientWidth)||document.body.offsetWidth-document.body.clientWidth,document.body.style.overflow="",t},Utils.documentVisibleState=function(t){var e,i;void 0!==document.hidden?(i="visibilitychange",e="visibilityState"):void 0!==document.mozHidden?(i="mozvisibilitychange",e="mozVisibilityState"):void 0!==document.msHidden?(i="msvisibilitychange",e="msVisibilityState"):void 0!==document.webkitHidden&&(i="webkitvisibilitychange",e="webkitVisibilityState"),document.addEventListener(i,function(){t(document[e])},!1),t(document[e])},BasicShape.prototype.init=function(t,e,i,s){return this.sx=t,this.sy=e,this.cx=i||0,this.cy=s||0,this.dx=this.sx-this.cx,this.dy=this.sy-this.cy,this},BasicShape.prototype.initXY=function(t,e){return this.dx=this.sx=t,this.dy=this.sy=e,this},BasicShape.prototype.bind=function(t){return t.sx+=this.dx,t.sy+=this.dy,t.cx+=this.dx,t.cy+=this.dy,this},BasicShape.prototype.bind2=function(t){return this.sx+=t.dx,this.sy+=t.dy,this.cx+=t.dx,this.cy+=t.dy,this},BasicShape.prototype.applyTransform=function(){return this.vec.isChanged()?this.ctx.transform(this.vec.getM11(),this.vec.getM12(),this.vec.getM21(),this.vec.getM22(),this.vec.offsetX+this.cx,this.vec.offsetY+this.cy):(this.vec.offsetX||this.vec.offsetY||this.cx||this.cy)&&this.ctx.translate(this.vec.offsetX+this.cx,this.vec.offsetY+this.cy),this},BasicShape.prototype.preProcess=function(){return this},BasicShape.prototype.preDraw=function(){return this.applyTransform().preProcess(),this.ctx.resetTransform(),this},BasicShape.prototype.clip=function(){return this.ctx.save(),this.applyTransform().preProcess(),this.ctx.resetTransform(),this.ctx.clip(),this},BasicShape.prototype.restore=function(){return this.ctx.restore(),this},BasicShape.prototype.clearRegion=function(t,e,i,s){this.clip(),this.ctx.clearRect(this.dx+t,this.dy+e,i,s),this.ctx.restore()},BasicShape.prototype.isPointInPath=function(t,e){return this.applyTransform().preProcess(),this.ctx.resetTransform(),this.ctx.isPointInPath(t,e)},BasicShape.prototype.isPointInStroke=function(t,e){return this.applyTransform().preProcess(),this.ctx.resetTransform(),this.ctx.isPointInStroke(t,e)},BasicShape.prototype.getVector=function(){return this.vec},BasicShape.prototype.setVector=function(t){this.vec=t},Utils.inheritPrototype(Shape,BasicShape),Shape.prototype.fill=function(){return this.ctx.save(),this.applyStyle().applyTransform().preProcess(),this.ctx.fill(),this.ctx.restore(),this},Shape.prototype.fillEvenOdd=function(){return this.ctx.save(),this.applyStyle().applyTransform().preProcess(),this.ctx.fill("evenodd"),this.ctx.restore(),this},Shape.prototype.stroke=function(){return this.ctx.save(),this.applyStyle().applyTransform().preProcess(),this.ctx.stroke(),this.ctx.restore(),this},Shape.prototype.preDraw=function(){return this.ctx.save(),this.applyStyle().applyTransform().preProcess(),this.ctx.restore(),this},Shape.prototype.applyStyle=function(){return this.sty.lineDash!==Style.DEFAULT_LINE_DASH&&this.ctx.setLineDash(this.sty.lineDash),this.sty.lineDashOffset!==Style.DEFAULT_LINE_DASH_OFFSET&&(this.ctx.lineDashOffset=this.sty.lineDashOffset),this.sty.fillStyle!==Style.DEFAULT_FILL_STYLE&&(this.ctx.fillStyle=this.sty.fillStyle),this.sty.strokeStyle!==Style.DEFAULT_STROKE_STYLE&&(this.ctx.strokeStyle=this.sty.strokeStyle),this.sty.shadowOffsetX!==Style.DEFAULT_SHADOW_OFFSET_X&&(this.ctx.shadowOffsetX=this.sty.shadowOffsetX),this.sty.shadowOffsetY!==Style.DEFAULT_SHADOW_OFFSET_Y&&(this.ctx.shadowOffsetY=this.sty.shadowOffsetY),this.sty.shadowBlur!==Style.DEFAULT_SHADOW_BLUR&&(this.ctx.shadowBlur=this.sty.shadowBlur),this.sty.shadowColor!==Style.DEFAULT_SHADOW_COLOR&&(this.ctx.shadowColor=this.sty.shadowColor),this.sty.lineWidth!==Style.DEFAULT_LINE_WIDTH&&(this.ctx.lineWidth=this.sty.lineWidth),this.sty.lineCap!==Style.DEFAULT_LINE_CAP&&(this.ctx.lineCap=this.sty.lineCap),this.sty.lineJoin!==Style.DEFAULT_LINE_JOIN&&(this.ctx.lineJoin=this.sty.lineJoin),this.sty.miterLimit!==Style.DEFAULT_MITER_LIMIT&&(this.ctx.miterLimit=this.sty.miterLimit),this.sty.font!==Style.DEFAULT_FONT&&(this.ctx.font=this.sty.font),this.sty.textAlign!==Style.DEFAULT_TEXT_ALIGN&&(this.ctx.textAlign=this.sty.textAlign),this.sty.textBaseline!==Style.DEFAULT_TEXT_BASELINE&&(this.ctx.textBaseline=this.sty.textBaseline),this},Shape.prototype.createLinearGradient=function(t,e,i,s){return this.ctx.createLinearGradient(this.dx+t,this.dy+e,this.dx+i,this.dy+s)},Shape.prototype.createRadialGradient=function(t,e,i,s,n,o){return this.ctx.createRadialGradient(this.dx+t,this.dy+e,i,this.dx+s,this.dy+n,o)},Shape.prototype.getStyle=function(){return this.sty},Shape.prototype.setStyle=function(t){this.sty=t},Utils.inheritPrototype(Rect,Shape),Rect.prototype.preProcess=function(){this.ctx.beginPath(),this.ctx.rect(this.dx,this.dy,this.sw,this.sh)},Utils.inheritPrototype(Arc,Shape),Arc.prototype.preProcess=function(){this.ctx.beginPath(),this.ctx.arc(this.dx,this.dy,this.r,this.startAngle,this.endAngle,this.anticlockwise)},Utils.inheritPrototype(Line,Shape),Line.prototype.preProcess=function(){this.ctx.beginPath(),this.ctx.moveTo(this.dx,this.dy),this.ctx.lineTo(this.dx+this.ex-this.sx,this.dy+this.ey-this.sy)},Utils.inheritPrototype(Text,Shape),Text.prototype.fill=function(){return this.ctx.save(),this.applyStyle().applyTransform().preProcess(),this.ctx.fillText(this.text,this.dx,this.dy),this.ctx.restore(),this},Text.prototype.stroke=function(){return this.ctx.save(),this.applyStyle().applyTransform().preProcess(),this.ctx.strokeText(this.text,this.dx,this.dy),this.ctx.restore(),this},Point.prototype.distance=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},Point.prototype.atan2=function(t){return Math.atan2(t.y-this.y,t.x-this.x)},Point.prototype.setX=function(t){return this.x=t,this},Point.prototype.getX=function(){return this.x},Point.prototype.setY=function(t){return this.y=t,this},Point.prototype.getY=function(){return this.y};var ctx=Utils.getContext2d(0,0,400,600);function demo021(){var n=new Rect(ctx,0,0,400,500),o=new Arc(ctx,200,200,200);o.getStyle().setLineWidth(2).setStrokeStyle("white");var r=new Point(o.sx,o.sy),h=new Arc(ctx,0,0,3);h.init(r.x,r.y);var a=new Line(ctx,0,0,0,0),c=new Line(ctx,0,0,0,0),l=new Line(ctx,0,0,0,0),y=new Line(ctx,0,0,0,0),p=new Rect(ctx,0,0,0,0),f=new Rect(ctx,0,0,0,0),u=new Rect(ctx,0,0,0,0),x=new Rect(ctx,0,0,0,0);f.getVector().setScaleX(-1),u.getVector().setScaleX(-1).setScaleY(-1),x.getVector().setScaleY(-1),p.getStyle().setFillStyle(Utils.rgba(54,106,189,.6)),f.getStyle().setFillStyle(Utils.rgba(171,127,80,.6)),u.getStyle().setFillStyle(Utils.rgba(82,140,160,.6)),x.getStyle().setFillStyle(Utils.rgba(162,115,159,.6));var S=new Text(ctx,0,0,"A"),d=new Text(ctx,0,0,"B"),g=new Text(ctx,0,0,"C"),T=new Text(ctx,0,0,"D"),L=new Text(ctx,0,0,"P"),D=new Text(ctx,0,0,"O"),U=new Text(ctx,0,0,"E"),E=new Text(ctx,0,0,"F"),_=new Text(ctx,0,0,""),A=new Text(ctx,0,0,""),w=new Text(ctx,0,0,""),F=new Text(ctx,0,0,""),m=new Text(ctx,200,450,""),I=new Text(ctx,200,475,"=80000");I.sty=m.sty=_.sty=A.sty=w.sty=F.sty=S.sty=d.sty=g.sty=T.sty=L.sty=D.sty=U.sty=E.sty,E.getStyle().setFont("32px Consolas").setFillStyle("white").setTextAlign("center").setTextBaseline("middle");var O=new Line(ctx,0,0,0,0),v=new Line(ctx,0,0,0,0),Y=new Line(ctx,0,0,0,0),X=new Line(ctx,0,0,0,0),V=new Line(ctx,0,0,0,0),P=new Line(ctx,0,0,0,0);a.sty=c.sty=l.sty=y.sty,O.sty=v.sty,Y.sty=X.sty=V.sty=P.sty,y.getStyle().setStrokeStyle(Utils.rgba(255,255,0,.6)).setLineWidth(2),v.getStyle().setStrokeStyle(Utils.rgba(0,0,255,.6)).setLineWidth(2),P.getStyle().setStrokeStyle(Utils.rgba(255,0,0,.6)).setLineWidth(2);var B=new Point(0,0),k=new Point(0,0),M=new Point(0,0),b=new Point(0,0),W=new Point(0,0),C=new Point(0,0);function R(t,e,i,s){for(var n=80;n<202;n+=.7)o.isPointInStroke(e.x+n*i,e.y+n*s)&&(t.x=e.x+n*i,t.y=e.y+n*s)}Line.prototype.initData=function(t,e){return this.sx=t.x,this.sy=t.y,this.dx=this.sx,this.dy=this.sy,this.ex=e.x,this.ey=e.y,this},Line.prototype.getLength=function(){return Utils.pythagorean(this.sx-this.ex,this.sy-this.ey)},Rect.prototype.initData=function(t,e){return this.init(t.x,t.y,t.x,t.y),this.sw=this.sh=e*Math.cos(Utils.deg2rad(45)),this},Rect.prototype.getArea=function(){return this.sw*this.sh},Text.prototype.initData=function(t){return this.initXY(t.x,t.y),this},Text.prototype.initDataRect=function(t,e,i){return this.text=Math.floor(t.getArea()).toString(),this.initXY(t.sx+t.sw/2*e,t.sy+t.sh/2*i),this},Text.prototype.dealOffset=function(t){return this.text=(parseInt(this.text)-t).toString(),this},Point.prototype.addPointDiv2=function(t){return new Point((this.x+t.x)/2,(this.y+t.y)/2)},ctx.canvas.onmousemove=function(t){var e,i,s;86<Utils.pythagorean(t.offsetX-r.x,t.offsetY-r.y)||(ctx.clearRect(0,0,400,500),n.fill(),o.stroke(),h.fill(),e=new Point(t.offsetX,t.offsetY),R(B,e,1,1),R(k,e,-1,1),R(M,e,-1,-1),R(b,e,1,-1),a.initData(e,B).stroke(),c.initData(e,k).stroke(),l.initData(e,M).stroke(),y.initData(e,b).stroke(),p.initData(e,a.getLength()).fill(),f.initData(e,c.getLength()).fill(),u.initData(e,l.getLength()).fill(),x.initData(e,y.getLength()).fill(),_.initDataRect(p,1,1),A.initDataRect(f,-1,1),w.initDataRect(u,-1,-1),F.initDataRect(x,1,-1),i=parseInt(_.text)+parseInt(A.text)+parseInt(w.text)+parseInt(F.text),s=Math.floor((i-8e4)/4),_.dealOffset(s),A.dealOffset(s),w.dealOffset(s),F.text=(8e4-parseInt(_.text)-parseInt(A.text)-parseInt(w.text)).toString(),m.text=(4===_.text.length?" ":"")+parseInt(_.text)+"+"+(4===A.text.length?" ":"")+parseInt(A.text)+"+"+(4===w.text.length?" ":"")+parseInt(w.text)+"+"+(4===F.text.length?" ":"")+parseInt(F.text),m.fill(),I.fill(),_.fill(),A.fill(),w.fill(),F.fill(),L.initData(e).fill(),D.initData(r).fill(),S.initData(B).fill(),d.initData(k).fill(),g.initData(M).fill(),T.initData(b).fill(),W=B.addPointDiv2(M),C=k.addPointDiv2(b),O.initData(r,W).stroke(),v.initData(r,C).stroke(),U.initData(W).fill(),E.initData(C).fill(),Y.initData(r,B).stroke(),X.initData(r,k).stroke(),V.initData(r,M).stroke(),P.initData(r,b).stroke())}}demo021();</script></body></html>